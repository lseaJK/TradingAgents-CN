# TradingAgents-CN (本地修改版)

本仓库是基于开源项目 [TradingAgents-CN](https://github.com/efinance-thunlp/TradingAgents-CN) 进行的二次开发版本。本文档旨在说明自 Git 提交 `4034a828` 版本以来所进行的核心修改与功能增强。

## 主要修改内容

### 1. 飞书 (Feishu) 深度集成
- **核心API对接**: 实现了与飞书开放平台的全面对接，允许将交易分析报告、运行状态等关键数据自动上报至飞书多维表格。
- **完整的认证系统**: 开发了包含应用凭证 (App Token) 和用户授权 (User Token) 的获取、刷新与管理机制，确保了安全、持久的 API 调用。
- **数据操作与修复**: 封装了对飞书数据表的查询、更新等操作，并修复了集成过程中遇到的日期格式兼容性问题。
- **相关模块**: `FeiShu/` 目录下的所有脚本。

### 2. 断点续跑 (Checkpoint/Resume) 功能
- **长任务稳定性**: 为应对长时间运行的分析任务可能中断的问题，引入了检查点/恢复机制。系统现在可以将运行状态定期保存。
- **任务恢复**: 当程序意外中断后，可以从最近的检查点（Checkpoint）无缝恢复，极大地提高了分析流程的健壮性和可靠性。
- **深度集成**: 该功能深度整合到项目的核心逻辑中，涉及 `tradingagents/trading_graph/`, `main.py` 等多个关键模块。

### 3. 安全性与配置管理
- **敏感信息剥离**: 将包含 API 密钥、Token 等敏感信息的配置文件从 Git 版本控制中移除，防止敏感信息泄露。
- **增强的 `.gitignore`**: 更新了 `.gitignore` 文件，以覆盖更多潜在的敏感文件和本地配置文件，提升了项目的整体安全性。

### 4. 项目重构与维护
- **代码清理**: 对项目中过期或不再使用的脚本及配置文件进行了清理。
- **自动化维护**: 增加了自动清理机制，以保持项目结构的整洁。

---
*注：关于项目的基础功能和原始架构，请参考 `TradingAgents-CN-main` 子目录中的原始文档或访问原项目仓库。*
